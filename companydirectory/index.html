<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Company Directory</title>
    <link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Cantarell&family=Karla&family=Poppins&family=Quicksand:wght@700&family=Readex+Pro:wght@500&family=Source+Sans+3&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
    <link rel="icon" type="image/png" sizes="32x32" href="favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicons/favicon-16x16.png">
    <link rel="manifest" href="favicons/site.webmanifest">
    <link rel="stylesheet" href="libraryFolder/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="directory.css">
</head>
<body>

    <!----Search Bar/Header --->
    <div class="container-fluid text-center bg-dark py-3">
      <div class="row">
        <div class="col-md-4 offset-md-4 col-8 offset-2">
          <input class="form-control border border-primary" id="searchbar" placeholder="Search">
        </div>
      </div>
      <div class="mt-3">
          <button class="btn btn-success rounded-circle" id="createbutton" title="create" type="submit">
              <i class="fas fa-plus"></i>
          </button>
          <button class="btn btn-primary rounded-circle mx-2" id="refreshbutton" title="search" type="submit">
            <i class="fas fa-rotate-right"></i>
          </button>
          <button class="btn btn-secondary rounded-circle" id="filterbutton" title="filter" type="submit">
              <i class="fas fa-filter"></i>
          </button>
      </div>
    </div>

    <!-- Tab Folders for Employee Department & Location -->
    <div class="container-fluid">
      <ul class="nav nav-tabs" id="datatabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active text-center" id="personnelbutton" data-bs-toggle="tab" data-bs-target="#personneltab" type="button" role="tab" aria-controls="personnel-tab-pane" aria-selected="true">
            <i class="fa-solid fa-person"></i>
            <span class="d-none d-sm-block">Personnel</span>
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link text-center" id="departmentbutton" data-bs-toggle="tab" data-bs-target="#departmenttab" type="button" role="tab" aria-controls="department-tab-pane" aria-selected="true">
            <i class="fa-solid fa-building"></i>
            <span class="d-none d-sm-block">Department</span>
          </button> 
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link text-center" id="locationbutton" data-bs-toggle="tab" data-bs-target="#locationtab" type="button" role="tab" aria-controls="location-tab-pane" aria-selected="true">
            <i class="fa-solid fa-location-dot"></i>
            <span class="d-none d-sm-block">Location</span>
          </button>
        </li>
      </ul>
    </div>


    <!-- Tab Content -->
    <div class="container-fluid">
      <div class="tab-content">

        <!-- Personnel Tab Content -->
        <div class="tab-pane fade show active" id="personneltab" role="tabpanel" aria-labelledby="location-tab" tabindex="0">
          <table class="table table-striped table-responsive-md">
              <thead>
                  <tr>
                      <th>Name</th>
                      <th class="d-none d-lg-table-cell">Job Title</th>
                      <th class="d-none d-lg-table-cell">Email</th>
                      <th class="d-none d-lg-table-cell">Department</th>
                      <th class="d-none d-lg-table-cell">Location</th>
                      <th>Actions</th>
                  </tr>
              </thead>
              <tbody id="personneldata">
                <tr class="personnel-row">
                  <!---Personnel Table Data---->
                </tr>
              </tbody>
          </table>
          <div class="d-flex justify-content-center">
              <div class="spinner-border text-primary d-none m-5" id="refreshpersonnel" role="status">
                  <span class="visually-hidden">Loading...</span>
              </div>
          </div>
      </div>
      

        <!-- Department Tab Content -->
        <div class="tab-pane fade" id="departmenttab" role="tabpanel" aria-labelledby="department-tab" tabindex="0">
            <table class="table table-striped table-responsive-md" id="departmenttable">
              <thead>
                <tr>
                  <th>Department</th>
                  <th class="d-none d-md-table-cell">Location</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="departmentdata">
                <!-----Department Table Data----->
              </tbody>
            </table>
            <div class="d-flex justify-content-center">
              <div class="spinner-border text-primary d-none m-5" id="refreshdepartment" role="status">
                <span class="visually-hidden">Loading...</span>
              </div>
            </div>
        </div>

        <!-- Location Tab Content -->
        <div class="tab-pane fade" id="locationtab" role="tabpanel" aria-labelledby="location-tab" tabindex="0">
            <table class="table table-responsive-md table-striped" id="locationtable">
              <thead>
                <tr>
                  <th>Location</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="locationdata">
                <!-----Location Table Data---->
              </tbody>
            </table>
            <div class="d-flex justify-content-center">
              <div class="spinner-border text-primary d-none m-5" id="refreshlocation" role="status">
                <span class="visually-hidden">Loading...</span>
              </div>
            </div>
        </div>
      
      </div>
    </div>
  
        <!----Create Personnel Modal---->
        <div id="createpersonnelmodal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false" aria-labelledby="createpersonnelmodallabel" aria-hidden="true">
          <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content shadow">
              <div class="modal-header bg-dark text-white">
                <h5 class="modal-title">Create Personnel</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form id="createpersonnelform">

                  <div class="mb-3">
                    <label for="create_firstname" class="form-label">First Name</label>
                    <input type="text" class="form-control" id="create_firstname" name="create_firstname" required>
                  </div>

                  <div class="mb-3">
                    <label for="create_lastname" class="form-label">Last Name</label>
                    <input type="text" class="form-control" id="create_lastname" name="create_lastname" required>
                  </div>

                  <div class="mb-3">
                    <label for="create_jobtitle" class="form-label">Job Title</label>
                    <input type="text" class="form-control" id="create_jobtitle" name="create_jobtitle" required>
                  </div>

                  <div class="mb-3">
                    <label for="departmentdropdown" class="form-label">Select Department</label>
                    <select id="departmentdropdown" class="form-select" required>
                      <!----Department Options---->
                    </select>
                  </div>

                  <div class="mb-3">
                    <label for="create_email" class="form-label">Email</label>
                    <input type="text" class="form-control" id="create_email" name="create_email" required>
                  </div>

                </form>
              </div>
              <div class="modal-footer d-flex justify-content-between">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" form="createpersonnelform" class="btn btn-primary">Save</button>
              </div>
            </div>
          </div>
        </div>

        <!----Create Department Modal---->
        <div id="createdepartmentmodal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false" aria-labelledby="createdepartmentmodallabel" aria-hidden="true">
          <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
              <div class="modal-header bg-dark text-white">
                <h5 class="modal-title">Create Department</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form id="createdepartmentform">

                  <div class="mb-3">
                    <label for="create_departmentname" class="form-label">Department Name</label>
                    <input type="text" class="form-control" id="create_departmentname" name="create_departmentname" required>
                  </div>

                  <div class="mb-3">
                    <label for="locationdropdown" class="form-label">Select Location</label>
                    <select id="locationdropdown" class="form-select">
                      <!----Location Options---->
                    </select>
                  </div>

                </form>
              </div>
              <div class="modal-footer d-flex justify-content-between">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" form="createdepartmentform" class="btn btn-primary" data-bs-dismiss="modal">Save</button>
              </div>
            </div>
          </div>
        </div>

        <!----Create Location Modal---->
        <div id="createlocationmodal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false" aria-labelledby="createlocationmodallabel" aria-hidden="true">
          <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
              <div class="modal-header bg-dark text-white">
                <h5 class="modal-title">Create Location</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form id="createlocationform">

                  <div class="mb-3">
                    <label for="create_location" class="form-label">Location Name</label>
                    <input type="text" class="form-control" id="create_location" name="create_location" required>
                  </div>

                </form>
              </div>
              <div class="modal-footer d-flex justify-content-between">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" form="createlocationform" class="btn btn-primary">Save</button>
              </div>
            </div>
          </div>
        </div>


        <!----Update Personnel Modal---->
        <div id="updatepersonnelmodal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false" aria-labelledby="updatepersonnelmodallabel" aria-hidden="true">
          <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content shadow">
              <div class="modal-header bg-dark text-white">
                <h5 class="modal-title">Update Personnel</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form id="updatepersonnelform">

                  <input type="hidden" id="updatepersonnelid" name="updatepersonnelid">

                  <div class="mb-3">
                    <label for="update_firstname" class="form-label">First Name</label>
                    <input type="text" class="form-control" id="update_firstname" name="update_firstname" required>
                  </div>

                  <div class="mb-3">
                    <label for="update_lastname" class="form-label">Last Name</label>
                    <input type="text" class="form-control" id="update_lastname" name="update_lastname" required>
                  </div>

                  <div class="mb-3">
                    <label for="update_jobtitle" class="form-label">Job Title</label>
                    <input type="text" class="form-control" id="update_jobtitle" name="update_jobtitle" required>
                  </div>

                  <div class="mb-3">
                    <label for="update_email" class="form-label">Email</label>
                    <input type="text" class="form-control" id="update_email" name="update_email" required>
                  </div>

                  <div class="mb-3">
                    <label for="update_departmentdropdown" class="form-label">Department</label> 
                    <select class="form-select" id="update_departmentdropdown" name="update_departmentdropdown">
                    </select>
                  </div>
                  
                </form>
              </div>
              <div class="modal-footer d-flex justify-content-between">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" form="updatepersonnelform" class="btn btn-primary">Save</button>
              </div>
            </div>
          </div>
      </div>

<!-- Update Department Modal -->
<div id="updatedepartmentmodal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false" aria-labelledby="updatedepartmentmodallabel" aria-hidden="true">
  <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content shadow">
          <div class="modal-header bg-dark text-white">
              <h5 class="modal-title">Update Department</h5>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <form id="updatedepartmentform">

                  <input type="hidden" id="updatedepartmentid" name="updatedepartmentid">

                  <div class="mb-3">
                      <label for="update_departmentname" class="form-label">Department Name</label>
                      <input type="text" class="form-control" id="update_departmentname" name="update_departmentname" required>
                  </div>

                  <div class="mb-3">
                      <label for="update_locationdropdown" class="form-label">Location</label>
                      <select class="form-select" id="update_locationdropdown" name="update_locationdropdown">
                          <!-- Populate this dropdown with location options -->
                      </select>
                  </div>

              </form>
          </div>
          <div class="modal-footer d-flex justify-content-between">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="submit" form="updatedepartmentform" class="btn btn-primary" data-bs-dismiss="modal">Save</button>
          </div>
      </div>
  </div>
</div>



  <!-----Update Location modal----->
  <div id="updatelocationmodal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false" aria-labelledby="updatelocationmodallabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header bg-dark text-white">
          <h5 class="modal-title">Update Location</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">
          <form id="updatelocationform">
            <input type="hidden" id="update_locationid" name="update_locationid">

            <div class="mb-3">
              <label for="update_location" class="form-label">Location Name</label>
              <input type="text" class="form-control" id="update_location" name="update_location" placeholder="Enter Location" required>
            </div>
            
          </form>
        </div>
        <div class="modal-footer d-flex justify-content-between">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="submit" form="updatelocationform" class="btn btn-primary">Save</button>
        </div>
      </div>
    </div>
  </div>


    <!----Delete Personnel Modal---->

    <div id="deletepersonnelmodal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false" aria-labelledby="deletepersonnelmodallabel" aria-hidden="true">
      <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header bg-dark text-white">
            <h5 class="modal-title">Delete personnel?</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <form id="deletepersonnelform">
                <input id="deletepersonnelID" type="hidden">
                Are you sure that you want to delete the entry for <span id="deletepersonnelname" class="fw-bold"></span>?
          </div>
          <div class="modal-footer d-flex justify-content-between">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
            <button type="submit" form="deletepersonnelform" class="btn btn-danger" data-bs-dismiss="modal">Yes</button>
          </div>
        </div>
      </div>
    </div>


    <!----Delete Department Modal---->
    <div id="deletedepartmentmodal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false" aria-labelledby="deleteepartmentmodallabel" aria-hidden="true">
      <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header bg-dark text-white">
            <h5 class="modal-title">Delete department?</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="deletedepartmentform">
              <input id="deletedepartmentID" type="hidden">
              Are you sure that you want to delete the entry for <span id="deletedepartmentname" class="fw-bold"></span>?
          </div>
          <div class="modal-footer d-flex justify-content-between">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
            <button type="submit" form="deletedepartmentform" class="btn btn-danger" data-bs-dismiss="modal">Yes</button>
          </div>
        </div>
      </div>
    </div>

    <!----Delete Location Modal---->
    <div id="deletelocationmodal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false" aria-labelledby="deletelocationmodallabel" aria-hidden="true">
      <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header bg-dark text-white">
            <h5 class="modal-title">Delete location?</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="deletelocationform">
              <input id="deletelocationID" type="hidden">
              Are you sure that you want to delete the entry for <span id="deletelocationname" class="fw-bold"></span>?
          </div>
          <div class="modal-footer d-flex justify-content-between">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
            <button type="submit" form="deletelocationform" class="btn btn-danger" data-bs-dismiss="modal">Yes</button>
          </div>
        </div>
      </div>
    </div>

    <!----Unable to delete Department modal---->
    <div id="unabledeletedepartmentmodal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false" aria-labelledby="unableremovedepartmentmodallabel" aria-hidden="true">
      <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header bg-dark text-white">
            <h5 class="modal-title">Unable to delete department</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            You cannot delete this entry because it has <span id="numberpersonnel" class="fw-bold"></span> <b>personnel</b> assigned to it.
          </div>
          <div class="modal-footer d-flex justify-content-md-end">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <!----Unable to delete Location modal---->
    <div id="unabledeletelocationmodal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false" aria-labelledby="unabledeletelocationmodallabel" aria-hidden="true">
      <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header bg-dark text-white">
            <h5 class="modal-title">Unable to delete location</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            You cannot delete this entry because it has <span id="numberdepartments" class="fw-bold"></span> <b>departments</b> assigned to it.
          </div>  
          <div class="modal-footer d-flex justify-content-md-end">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <!---- Personnel Filter Modal---->
  <div id="personnelfiltermodal" class="modal fade" tabindex="-1"  data-bs-backdrop="false" data-bs-keyboard="false" aria-labelledby="personnelfiltermodallabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header bg-dark text-white">
          <h5 class="modal-title">Filter Personnel</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form>
            <div class="mb-3">
              <label for="personnel_department" class="form-label">Department</label>
              <select class="form-select" id="personnel_department" name="personnel_department">
                  <!----Populate Select Options using Javascript-->
              </select>
            </div>
            <div class="mb-3">
              <label for="personnel_location" class="form-label">Location</label>
              <select class="form-select" id="personnel_location" name="personnel_location">
                  <!----Populate Select Options using Javascript-->
              </select>
            </div>
          </form>
        </div>
        <div class="modal-footer d-flex justify-content-between">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-primary" id="filterpersonnelsave" data-bs-dismiss="modal">Save</button>
        </div>
      </div>
    </div>
  </div>

    <!---- Department Filter Modal---->
    <div id="departmentfiltermodal" class="modal fade" tabindex="-1"  data-bs-backdrop="false" data-bs-keyboard="false" aria-labelledby="departmentfiltermodallabel" aria-hidden="true">
      <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header bg-dark text-white">
            <h5 class="modal-title">Filter Department</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="mb-3">
                <label for="department_location" class="form-label">Location</label>
                <select class="form-select" id="department_location" name="department_location">
                  <!----Populate Select Options using Javascript-->
                </select>
              </div>
            </form>
          </div>
          <div class="modal-footer d-flex justify-content-between">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary" id="filterdepartmentsave" data-bs-dismiss="modal">Save</button>
          </div>
        </div>
      </div>
    </div>

    <!---- Location Filter Modal---->
    <div id="locationfiltermodal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false" aria-labelledby="filterlocationmodallabel" aria-hidden="true">
      <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header bg-dark text-white">
            <h5 class="modal-title">Filter Location</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="mb-3">
                <label for="location_filter" class="form-label">Location</label>
                <select class="form-select" id="location_filter" name="location_filter">
                  <!----Populate Select Options using Javascript-->
                </select>
              </div>
            </form>
          </div>
          <div class="modal-footer d-flex justify-content-between">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary" id="filterlocationsave" data-bs-dismiss="modal">Save</button>
          </div>
        </div>
      </div>
    </div>
      
    <div id="preloader"></div>
    
    <script src="libraryFolder/jquery/jquery-3.7.0.min.js"></script>
    <script src="libraryFolder/bootstrap/bootstrap.min.js"></script>
    <script src="directory.js"></script>
</body>
</html>